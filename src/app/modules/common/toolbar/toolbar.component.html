<igo-list 
  *ngIf="!collapsed"
  [navigation]="false">

  <fadq-toolbar-item
    *ngIf="withToggleButton"
    igoListItem
    color="accent"
    [ngClass]="getToolClass(toggleTool)"
    [withTitle]="false"
    [withIcon]="true"
    [tool]="toggleTool"
    (activate)="toggleToolbar()">
  </fadq-toolbar-item>

  <ng-template
    *ngIf="visible"
    ngFor let-tool [ngForOf]="tools">
    <fadq-toolbar-item
      igoListItem
      color="accent"
      [ngClass]="getToolClass(tool)"
      [withTitle]="withTitle"
      [withIcon]="withIcon"
      [tool]="tool"
      (activate)="activateTool(tool)">
    </fadq-toolbar-item>
  </ng-template>
</igo-list>

<div *ngIf="collapsed">
  <button
    mat-icon-button
    [matMenuTriggerFor]="toolbarMenu"
    (menuOpened)="open.emit()"
    (menuClosed)="close.emit()">
    <mat-icon>more_horiz</mat-icon>
  </button>

  <mat-menu
    #toolbarMenu="matMenu"
    class="fadq-compact-menu fadq-no-min-width-menu"
    overlapTrigger="true"
    [xPosition]="xPosition"
    [yPosition]="yPosition"
    [class]="overlayClass">

    <igo-list [navigation]="false">
      <ng-template ngFor let-tool [ngForOf]="tools">
        <fadq-toolbar-item
          igoListItem
          color="accent"
          [ngClass]="getToolClass(tool)"
          [withTitle]="withTitle"
          [withIcon]="withIcon"
          [tool]=tool
          (activate)="activateTool(tool)">
        </fadq-toolbar-item>
      </ng-template>
    </igo-list>
  </mat-menu>
</div>

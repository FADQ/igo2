<mat-list *ngIf="mode === actionbarMode.Dock">

  <fadq-actionbar-item
    *ngIf="withToggleButton"
    color="accent"
    [withTitle]="false"
    [withIcon]="true"
    [disabled]="store.view.empty"
    [action]="toggleCollapseAction"
    (trigger)="onTriggerAction(toggleCollapseAction)">
  </fadq-actionbar-item>

  <ng-template *ngIf="!collapsed" ngFor let-action [ngForOf]="store.view.all$() | async">
    <fadq-actionbar-item
      color="accent"
      [withTitle]="withTitle"
      [withIcon]="withIcon"
      [disabled]="store.state.get(action).disabled"
      [action]="action"
      (trigger)="onTriggerAction(action)">
    </fadq-actionbar-item>
  </ng-template>
</mat-list>

<div *ngIf="mode === actionbarMode.Overlay">
  <button
    mat-icon-button
    [matMenuTriggerFor]="actionbarMenu">
    <mat-icon>more_horiz</mat-icon>
  </button>

  <mat-menu
    #actionbarMenu="matMenu"
    class="fadq-compact-menu fadq-no-min-width-menu"
    overlapTrigger="true"
    [xPosition]="xPosition"
    [yPosition]="yPosition"
    [class]="overlayClass">

    <mat-list>
      <ng-template ngFor let-action [ngForOf]="store.view.all$() | async">
        <fadq-actionbar-item
          color="accent"
          [withTitle]="withTitle"
          [withIcon]="withIcon"
          [disabled]="store.state.get(action).disabled"
          [action]="action"
          (trigger)="onTriggerAction(action)">
        </fadq-actionbar-item>
      </ng-template>
    </mat-list>
  </mat-menu>
</div>

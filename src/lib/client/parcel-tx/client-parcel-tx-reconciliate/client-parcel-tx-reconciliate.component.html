<fadq-card-panel
  [title]="'client.parcelTx.reconciliate.confirm' | translate"
  [message]="message$ | async">

  <div class="client-parcel-tx-reconciliate-linked-clients">
    {{'client.parcelTx.reconciliate.linkedClients' | translate}}
  </div>

  <igo-entity-table
    class="table-compact"
    [store]="clientStore"
    [template]="tableTemplate">
  </igo-entity-table>

  <ng-container buttons>
    <ng-container *ngIf="((submitHandler.step$ | async) !== submitStep.Complete); else close">
      <button
        mat-button
        type="button"
        [disabled]="(submitHandler.step$ | async) === submitStep.Pending"
        (click)="onCancel()">
        {{ 'no' | translate }}
      </button>
      <button
        mat-raised-button
        color="primary"
        [disabled]="(isBlocked$ | async) || ((submitHandler.step$ | async) === submitStep.Pending && (!isBlocked$ | async))"
        (click)="onSubmit()">
        {{ 'yes' | translate }}
      </button>
    </ng-container>
    <ng-template #close>
      <button
        mat-raised-button
        color="primary"
        type="button"
        (click)="onClose()">
        {{ 'close' | translate }}
      </button>
    </ng-template>
  </ng-container>

</fadq-card-panel>
